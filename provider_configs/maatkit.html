

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Maatkit Provider Configuration [maatkit] &mdash; Holland v documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Holland v documentation" href="../index.html" />
    <link rel="up" title="Holland Config Files" href="../config.html" />
    <link rel="next" title="MySQL connection info [mysql:client]" href="mysqlconfig.html" />
    <link rel="prev" title="MySQL connection info [mysql:client]" href="mysqlconfig.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="mysqlconfig.html" title="MySQL connection info [mysql:client]"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="mysqlconfig.html" title="MySQL connection info [mysql:client]"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Holland v documentation</a> &raquo;</li>
          <li><a href="../config.html" accesskey="U">Holland Config Files</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="maatkit-provider-configuration-maatkit">
<span id="config-maatkit"></span><h1>Maatkit Provider Configuration [maatkit]<a class="headerlink" href="#maatkit-provider-configuration-maatkit" title="Permalink to this headline">¶</a></h1>
<p>Some of these options relate directly to the Maatkit <tt class="docutils literal"><span class="pre">mk-parallel-dump</span></tt>
utility. For more information on these options and the utility itself,
check out the Maatkit <tt class="docutils literal"><span class="pre">mk-parallel-dump</span></tt>
<a class="reference external" href="http://www.maatkit.org/doc/mk-parallel-dump.html">documentation</a>.
Note that this provider is a proof of concept and should normally not
be used in production.</p>
<p><strong>lock-method</strong> = flush-lock | lock-tables</p>
<blockquote>
<p>Defines the lock method (<tt class="docutils literal"><span class="pre">flush-lock</span></tt> or <tt class="docutils literal"><span class="pre">lock-tables</span></tt>).</p>
<ul>
<li><p class="first">flush-lock</p>
<blockquote>
<p>Will issue a <tt class="docutils literal"><span class="pre">FLUSH</span> <span class="pre">TABLES</span> <span class="pre">WITH</span> <span class="pre">READ</span> <span class="pre">LOCK</span></tt> prior to the backup.
This is basically a global lock which will block writes to the
database for the duration of the backup.</p>
</blockquote>
</li>
<li><p class="first">lock-tables</p>
<blockquote>
<p>Issues a lock-tables for each database, or for the entire backup
set.</p>
</blockquote>
</li>
</ul>
<p>If this option is not specified, <tt class="docutils literal"><span class="pre">flush-lock</span></tt> is used.</p>
</blockquote>
<p><strong>biggestfirst</strong> = yes | no</p>
<blockquote>
Backup the biggest tables first.</blockquote>
<p><strong>binlogpos</strong> = yes | no</p>
<blockquote>
Record the binary log name and position at the time of the backup.</blockquote>
<p><strong>charset</strong> = [character-set]</p>
<blockquote>
Sets the default character set.</blockquote>
<p><strong>chunksize</strong> = # [M | G | k]</p>
<blockquote>
Specifies the number of rows or size that each backup file will be.
Specifying a G, M or k after the number will cause Holland to split
the chunks by size. Otherwise, it will split by rows.</blockquote>
<p><strong>ignoreengine</strong> = [engine1, engine2, ..., engineN]</p>
<blockquote>
Skips tables which match any of the provided engines. This can be useful
in cases where one might not always want to backup certain table-types.
One example would be tables which use the ARCHIVE engine, since these
tables may not need to be backed up near as often.</blockquote>
<p><strong>numthread</strong> = #</p>
<blockquote>
If defined, it will create the provided number of threads for the backup
operation. If left blank, it will count the number of times &#8216;processor&#8217;
appears in /proc/cpuinfo and use that.</blockquote>
<p><strong>stopslave</strong> = yes | no</p>
<blockquote>
This is useful only when running Holland on a MySQL slave. Instructs
Holland to suspend slave services on the server prior to running
the backup. Suspending the slave does not change the backups, but does
prevent the slave from spooling up relay logs. The default is not
to suspend the slave (if applicable).</blockquote>
<p><strong>flushlog</strong> = yes | no</p>
<blockquote>
If enabled, runs a FLUSH LOGS prior to getting the binary log
name and position. If left undefined, the default is not to run
a FLUSH LOGS. Note if using this with setperdb, be aware that
FLUSH LOGS can get run quite often, which can cover up error messages
and create a large number of binary logs needlessly.</blockquote>
<p><strong>gzip</strong> = yes | no</p>
<blockquote>
Whether or not to compress the backups using gzip. Currently gzip is the
only option because it is handled by &#8216;mk-parallel-dump&#8217; and not by
Holland.</blockquote>
<p><strong>setperdb</strong> = yes | no</p>
<blockquote>
Whether or not to backup each database into its own file.</blockquote>
<div class="section" id="database-and-table-filtering">
<h2>Database and table filtering<a class="headerlink" href="#database-and-table-filtering" title="Permalink to this headline">¶</a></h2>
<p>Maatkit&#8217;s table filtering works slightly different from the other providers
as it uses the same syntax that the <cite>mk-parallel-dump</cite> utility uses.</p>
<p><strong>databases</strong> = [db1, db2, ..., dbN]</p>
<p>If undefined, will dump all databases.</p>
<p><strong>ignoredb</strong> = [db1, db2, ..., dbN]</p>
<p>Ignore one or more databases from being backed up.</p>
<p><strong>dbregex</strong> = [Perl regex]</p>
<p>Regular expression matching on databases using the Perl regular expression
syntax.</p>
<p><strong>tables</strong> = [table1, table2, ..., tableN]</p>
<p>List specific tables to backup. Note that it is possible to specify
the database and table using dotted notation (database.table).</p>
<p><strong>tblregex</strong> = [Perl regex]</p>
<p>Regular expression matching on tables using the Perl regular expression
syntax.</p>
<p><strong>ignoretbl</strong> = [table1, table2, ..., tableN]</p>
<p>A list of tables to exclude from the backup. Like the <strong>tables</strong> option,
use of the database.table syntax is allowed if preferred.</p>
</div>
<div class="section" id="mysql-client">
<h2>[mysql:client]<a class="headerlink" href="#mysql-client" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="mysqlconfig.html">MySQL connection info [mysql:client]</a></li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Maatkit Provider Configuration [maatkit]</a><ul>
<li><a class="reference internal" href="#database-and-table-filtering">Database and table filtering</a></li>
<li><a class="reference internal" href="#mysql-client">[mysql:client]</a><ul>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="mysqlconfig.html"
                        title="previous chapter">MySQL connection info [mysql:client]</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="mysqlconfig.html"
                        title="next chapter">MySQL connection info [mysql:client]</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/provider_configs/maatkit.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="mysqlconfig.html" title="MySQL connection info [mysql:client]"
             >next</a> |</li>
        <li class="right" >
          <a href="mysqlconfig.html" title="MySQL connection info [mysql:client]"
             >previous</a> |</li>
        <li><a href="../index.html">Holland v documentation</a> &raquo;</li>
          <li><a href="../config.html" >Holland Config Files</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Rackspace Inc..
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.4.
    </div>
  </body>
</html>