

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Holland Config Files &mdash; Holland v1.1.0a1 documentation</title>
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.1.0a1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Holland v1.1.0a1 documentation" href="index.html" />
    <link rel="next" title="Holland Command-Line Reference" href="commands.html" />
    <link rel="prev" title="Introduction to Holland" href="intro.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <h1><a href="index.html">Holland v1.1.0a1 documentation</a></h1>
        <div class="rel">
          <a href="intro.html" title="Introduction to Holland"
             accesskey="P">previous</a> |
          <a href="commands.html" title="Holland Command-Line Reference"
             accesskey="N">next</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="holland-config-files">
<h1>Holland Config Files<a class="headerlink" href="#holland-config-files" title="Permalink to this headline">¶</a></h1>
<p>By default, Holland&#8217;s configuration files reside in /etc/holland. The main
configuration file is holland.conf and there is a configuration file for
each backup.</p>
<div class="section" id="config-file-syntax">
<h2>Config File Syntax<a class="headerlink" href="#config-file-syntax" title="Permalink to this headline">¶</a></h2>
<p>Holland uses ini-like files very similar to MySQL&#8217;s .cnf format. These consist
of five basic syntax elements</p>
<ul class="simple">
<li>comments.  Comments in a config file always start with &#8216;#&#8217; and go to the end
of a line.</li>
<li>blank lines.</li>
<li>sections.  Sections are contained within square brackets and group options
together.</li>
<li>options.  Options are in key = value format.  A value may span multiple lines.</li>
<li>include directives.  As of Holland 1.1.0 the config file format supports
%include directives in a config file in order to include other config files</li>
</ul>
<div class="section" id="multi-line-values">
<h3>Multi-line values<a class="headerlink" href="#multi-line-values" title="Permalink to this headline">¶</a></h3>
<p>Holland 1.1 supports option values that span multiple lines. Each additional
line must start with one-or-more spaces and the value will be considered a
continuation of the original option.</p>
<p>A quick multi-line example:</p>
<div class="highlight-python"><pre>[mysqldump]
databases = test,
            dev,
            staging,
            other</pre>
</div>
<p>This is most commonly used for very long option values - for instance the
mysqldump plugins accepts lists of patterns to include or exclude and in
some cases these can get longer than will neatly fit on a standard
80-character line.</p>
</div>
<div class="section" id="include-directives">
<h3>Include directives<a class="headerlink" href="#include-directives" title="Permalink to this headline">¶</a></h3>
<p>Include directives allow neatly merging multiple configurations together.
A include directive starts with %include followed by a path.</p>
<p>A quick include example:</p>
<div class="highlight-python"><pre>[mysqldump]
%include /etc/holland/staging-exclusion.conf</pre>
</div>
<p>staging-exclusions.conf:</p>
<div class="highlight-python"><pre>[mysqldump]
exclude-databases = production*,
                    testing*,
                    mysql*

exclude-tables = *.log</pre>
</div>
</div>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>Here is a more thorough example that demonstrates all of the features of a
Holland 1.1 config file.</p>
<p>daily-backups.conf:</p>
<div class="highlight-python"><pre># This is the basic backup configuration that is the same across all backup
# plugins
[holland:backup]
plugin = mysqldump  # this notes which backup plugin should be used

# The mysqldump plugin looks for options in a [mysqldump] section
[mysqldump]
databases = foo, bar, baz
file-per-database = yes

# include a global authentication file - this is shared among multiple
# mysql plugins
%include /etc/holland/mysql-global-auth.conf</pre>
</div>
<p>mysql-global-auth.conf:</p>
<div class="highlight-python"><pre>[mysql:client]
user = holland-backup
password = holland-backup-password
socket = /tmp/custom_socket_location.sock</pre>
</div>
</div>
</div>
<div class="section" id="holland-conf-main-config">
<h2>holland.conf - main config<a class="headerlink" href="#holland-conf-main-config" title="Permalink to this headline">¶</a></h2>
<p>The main configuration file (usually /etc/holland/holland.conf) defines
both global settings as well as the active backup sets. It is divided into
two sections <a class="reference internal" href="#holland-config"><em>[holland]</em></a> and <a class="reference internal" href="#logging-config"><em>[logging]</em></a>.</p>
<div class="section" id="holland">
<span id="holland-config"></span><h3>[holland]<a class="headerlink" href="#holland" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<tt class="descname">plugin-dirs</tt></dt>
<dd><p>Defines where the plugins can be found. This can be a comma-separated
list but usually does not need to be modified.</p>
</dd></dl>

<span class="target" id="holland-config-backup-directory"></span><dl class="describe">
<dt>
<tt class="descname">backup-directory</tt></dt>
<dd><p>Top-level directory where backups are held.</p>
</dd></dl>

<span class="target" id="holland-config-backupsets"></span><dl class="describe">
<dt>
<tt class="descname">backupsets</tt></dt>
<dd><p>A comma-separated list of all the backup sets Holland should backup.
Each backup set is defined in <tt class="docutils literal"><span class="pre">/etc/holland/backupsets/&lt;name&gt;.conf</span></tt> by
default.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">umask</tt></dt>
<dd><p>Sets the umask of the resulting backup files.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">path (optional)</tt></dt>
<dd><p>Defines a command search path for processes spawned by holland</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">tmpdir (optional)</tt></dt>
<dd><p>Sets the temporary directory used by holland and its plugin when
generating temporary files.</p>
<p>If tmpdir is unset then this will be set the first directory the user
can create files in from the following list:</p>
<ol class="arabic simple">
<li>The directory named by the TMPDIR environment variable.</li>
<li>The directory named by the TEMP environment variable.</li>
<li>The directory named by the TMP environment variable.</li>
<li>A platform-specific location:
On Windows, the directories C:TEMP, C:TMP, TEMP, and TMP, in that order.
On all other platforms, the directories /tmp, /var/tmp, and /usr/tmp, in that order.
As a last resort, the current working directory.</li>
</ol>
</dd></dl>

</div>
<div class="section" id="logging">
<span id="logging-config"></span><h3>[logging]<a class="headerlink" href="#logging" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<tt class="descname">filename</tt></dt>
<dd><p>The log file holland should write all logging messages to.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">level</tt></dt>
<dd><p>Sets the verbosity of Holland&#8217;s logging process. Available options are
<tt class="docutils literal"><span class="pre">debug</span></tt>, <tt class="docutils literal"><span class="pre">info</span></tt>, <tt class="docutils literal"><span class="pre">warning</span></tt>, <tt class="docutils literal"><span class="pre">error</span></tt>, and <tt class="docutils literal"><span class="pre">critical</span></tt></p>
</dd></dl>

</div>
</div>
<div class="section" id="provider-configs">
<h2>Provider Configs<a class="headerlink" href="#provider-configs" title="Permalink to this headline">¶</a></h2>
<p>These files allow configuring the defaults for all backup configurations that
use a particular plugin.  This was useful before Holland 1.1&#8217;s %include
directive to manage global settings for multiple backup configs that use the
same plugin - for instance daily and weekly mysqldump backups.</p>
<p>Holland will load the main backup configuration and will merge this configuration
with the providers/$plugin.conf if it exists.  By default holland looks for the
providers directory within the same directory as the holland.conf.  So for a
standard install of Holland there will be /etc/holland/holland.conf and the
global providers config files will be under /etc/holland/providers/.</p>
<p>This functionality is largely deprecated as of Holland 1.1 and it is recommended
that you use %include functionality to achieve the same effect in a more flexible
way.</p>
</div>
<div class="section" id="backup-set-configs">
<h2>Backup-Set Configs<a class="headerlink" href="#backup-set-configs" title="Permalink to this headline">¶</a></h2>
<p>Backup-Set configuration files largely inherit the configuration options of
the specified provider. To define a provider for the backup set, you must
put the following at the top of the backup set configuration file:</p>
<div class="highlight-python"><pre>[holland:backup]
plugin = &lt;plugin&gt;
backups-to-keep = #
estimated-size-factor = #</pre>
</div>
<p><strong>plugin</strong> = &lt;plugin&gt;</p>
<blockquote>
This is the name of the provider that will be used for the backup-set.
This is required in order for the backup-set to function.</blockquote>
<p><strong>backups-to-keep</strong> = #</p>
<blockquote>
Specifies the number of backups to keep for a backup-set.</blockquote>
<p><strong>estimated-size-factor</strong> = #</p>
<blockquote>
Specifies the scale factor when Holland decides if there is enough
free space to perform a backup.  The default is 1.0 and this number
is multiplied against what each individual plugin reports its
estimated backup size when Holland is verifying sufficient free
space for the backupset.</blockquote>
<p>Backup-Set files are defined in the &#8220;backupsets&#8221; directory which is,
by default, <tt class="docutils literal"><span class="pre">/etc/holland/backupsets</span></tt>. The name of the backup-set is
defined by its configuration filename and can really be most anything. That
means backup-sets can be organized in any arbitrary way, although backup
set files must end in .conf. The file extension is not part of the name of
the backup-set.</p>
<p>As noted above, in order for a backup-set to be active, it must be listed in
the <a class="reference internal" href="#holland-config-backupsets"><em>backupsets</em></a> variable.</p>
<p>Backups are placed under the directory defined in the
<a class="reference internal" href="#holland-config-backup-directory"><em>backup_directory</em></a>
section of the main configuration file. Each backup resides under a directory
corresponding to the backup-set name followed by a date-encoded directory.</p>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction to Holland</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Holland Config Files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#config-file-syntax">Config File Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="#holland-conf-main-config">holland.conf - main config</a></li>
<li class="toctree-l2"><a class="reference internal" href="#provider-configs">Provider Configs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#backup-set-configs">Backup-Set Configs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="commands.html">Holland Command-Line Reference</a></li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="search.html" method="get">
            <input type="text" name="q" size="18" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="intro.html" title="Introduction to Holland"
             >previous</a> |
          <a href="commands.html" title="Holland Command-Line Reference"
             >next</a> |
          <a href="genindex.html" title="General Index"
             >index</a>
            <br/>
            <a href="_sources/config.txt"
               rel="nofollow">Show Source</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2011, Holland Core Team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.4.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>